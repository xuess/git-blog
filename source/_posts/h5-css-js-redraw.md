---
title: 重排重绘
date: 2016-08-23 14:52:57
tags:
---


### 什么是重排和重绘
浏览器下载完页面中的所有组件——HTML标记、JavaScript、CSS、图片之后会解析生成两个内部数据结构——**DOM树和渲染树**。


DOM树表示页面结构，渲染树表示DOM节点如何显示。


DOM树中的每一个需要显示的节点在渲染树中至少存在一个对应的节点（隐藏的DOM元素disply值为none 在渲染树中没有对应的节点）。

渲染树中的节点被称为“帧”或“盒",符合CSS模型的定义，理解页面元素为一个具有填充，边距，边框和位置的盒子。

一旦DOM和渲染树构建完成，浏览器就开始显示（绘制）页面元素。




`document.createDocumentFragment()` ： 创建的是一次性的，用完即销毁


当DOM的变化影响了元素的几何属性(宽和高)，浏览器需要重新计算元素的几何属性，同样其他元素的几何属性和位置也会因此受到影响。
 
重排：浏览器会使渲染树中受到影响的部分失效，并重新构造渲染树。
 
重绘：完成重排后，浏览器会重新绘制受影响的部分到屏幕中。

重排何时发生：
 
 
添加或删除可见的DOM元素
元素位置的改变
元素尺寸改变
内容改变
页面渲染器初始化
浏览器窗口尺寸的改变